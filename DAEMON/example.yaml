process:
  - name: my-test-app
    cmd: /usr/local/bin/myapp --config /etc/myapp/config.yaml
    restart: on_error
    stop_signal: SIGTERM
    work_dir: /var/lib/myapp
    stdout: /var/log/myapp/stdout.log
    stderr: /var/log/myapp/stderr.log
    env:
      ENVIRONMENT: "production"
      LOG_LEVEL: "debug"
      API_KEY: "dummyapikey123"
    restart_atemps: 3
    expected_exit: [0, 2]
    launch_wait: 5s
    kill_wait: 10s
    start_at_launch: true
    umask: "022"

  - name: my-test-app-2
    cmd: /usr/local/bin/myapp --config /etc/myapp/config.yaml
    stop_signal: SIGTERM
    work_dir: /var/lib/myapp
    stdout: /var/log/myapp/stdout.log
    stderr: /var/log/myapp/stderr.log
    env:
      ENVIRONMENT: "production"
      LOG_LEVEL: "debug"
      API_KEY: "dummyapikey123"
    restart_atemps: 3
    start_at_launch: true
    umask: "022"
  